<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // Generator 是ES6新增的一种函数用法
        // 用于解决异步操作问题
        // 让异步代码同步化运行

        // Generator 不单独使用 配合co库使用
        // co.js node模块

        // 在函数的关键字 function 和 函数名的中间 添加一个星号
        function* fn() { // 该函数就变成了Generator函数
            // console.log('函数被调用');
            yield 'hello'; // yield英文意思产出 
            // console.log('函数调用2');
            yield 'world';
            // console.log('函数调用3');
            return '!';
        }

        // 调用Generator函数时会获得一个遍历器对象
        // Generator会将一个函数拆分成多次执行
        // 每次执行到yield语句为止  并返回一个结果对象 
        // 结果对象中的 value 则为yield的产出值 
        // 结果对象中的 done属性 是一个布尔值 用于判断 Generator 的状态是否完成

        var gen = fn();

        console.log(gen);
        var result = gen.next();
        console.log(result);

        result = gen.next();
        console.log(result);

        result = gen.next();
        console.log(result);

        var result;
        while (result = gen.next()) {
            console.log(result.value);
            if (result.done) break;
        }
    </script>
</head>

<body>

</body>

</html>