<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        
        .box {
            width: 300px;
            height: 400px;
            border: 1px solid black;
            float: left;
            overflow: hidden;
            position: relative;
        }
        
        p {
            user-select: none;
            position: absolute;
        }
        
        .scroll {
            float: left;
            height: 400px;
            width: 20px;
            border: 1px solid black;
            margin-left: 5px;
            position: relative;
        }
        
        .movebox {
            width: 18px;
            height: 30px;
            background-color: red;
            position: absolute;
        }
    </style>
    <script>
        window.onload=function(){
            //获取内容盒子
            var box = document.querySelector('.box');
            //获取内容盒子里的p
            var p =document.querySelector('.box>p');
            //获取滚动进度条
            var scroll = document.querySelector('.scroll');
            //获取进度条里面的滑块
            var movebox = document.querySelector('.movebox');
            var move_positon =0;
            /* movebox.onmousedown=function(ev){
                ev=ev||event;
                var offsety=ev.offsetY;
                document.onmousemove=function(ev){
                    ev=ev||event;
                    var y=ev.pageY-offsety; 
                    if(y<0){
                        y=0;
                    }
                    else if(y>scroll.offsetHeight-movebox.offsetHeight){
                        y=scroll.offsetHeight-movebox.offsetHeight;
                    }
                    movebox.style.top = y+'px';
                    var ratio=(y/(scroll.offsetHeight-movebox.offsetHeight));
                    var move_positon = ratio*(p.offsetHeight-box.offsetHeight);
                    p.style.top=-move_positon+'px';

                }
                document.onmouseup=function(){
                    document.onmousemove=null;
                }
            } */
            document.addEventListener('mousewheel', function(ev) {
            // ev.wheelDelta  用于判断滚动方向
            // 这个值大于0 向上滚动
            // 这个值小于0 向下滚动
            console.log(ev.wheelDelta > 0 ? '向上' : '向下');
        });
                function mousewheel(ev){
                    ev=ev||event;
                    console.log(ev.wheeelDelta);
                    console.log(ev.detail)
                }
                function DOMMouseScroll(ev){
                    ev=ev||event; 
                    console.log(ev.detail);
                    console.log(ev.wheeelDelta);
                }
               /*  function mouseScroll(ev){
                    ev=ev||event;
                    var flage = true;
                    flage = ev.wheelDelta>0?true:false;
                    if(flage ==true){
                        move_positon+=10;
                    }
                    else if(flage==false&&move_positon>0){
                        move_positon-=10; 
                    }
                    console.log(move_positon);
                    p.style.top=move_positon+'px';
                }
                 function DOMMouseScroll(ev){
                    ev=ev||event;
                    var flage = true;
                    flage = ev.detail<0?true:false;
                    if(flage ==true){
                        move_positon+=10;
                    }
                    else if(flage==false&&move_positon>0){
                        move_positon-=10; 
                    }
                    console.log(move_positon);
                    p.style.top=move_positon+'px';
                } */
        }
           

    </script>
</head>

<body>
    <div class="box">
        <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Reiciendis, numquam ea repellat tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit
            amet consectetur adipisicing elit. Reiciendis, numquam ea repellat tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit amet consectetur
            adipisicing elit. Reiciendis, numquam ea repellat tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit amet consectetur adipisicing
            elit. Reiciendis, numquam ea repellat tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit amet consectetur adipisicing elit. Reiciendis,
            numquam ea repellat tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit amet consectetur adipisicing elit. Reiciendis, numquam
            ea repellat tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit amet consectetur adipisicing elit. Reiciendis, numquam ea repellat
            tempore corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque! Lorem ipsum dolor, sit amet consectetur adipisicing elit. Reiciendis, numquam ea repellat tempore
            corporis, aut blanditiis eius doloribus molestias molestiae earum quis exercitationem! Adipisci odio alias commodi culpa amet eaque!
        </p>
    </div>

    <div class="scroll">
        <div class="movebox"></div>
    </div>
</body>

</html>